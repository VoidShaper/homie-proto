<div ng-controller="RoomsController">
    <div class="panel panel-default">
        <div class="panel-heading">Rooms</div>
        <table class="table">
            <tr>
                <th class="col-md-3">Room Id</th>
                <th class="col-md-2">Name</th>
                <th class="col-md-5">Shape</th>
            </tr>
            <tr ng-repeat="room in rooms">
                <td><a href="#/rooms/{{room.id}}">{{room.id}}</a></td>
                <td>{{room.name}}</td>
                <td>
                    <roomshape width="100" height="100" room="room"></roomshape>
                </td>
            </tr>
        </table>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">New Room</div>

        <div class="panel-body">
            <alert ng-repeat="alert in alerts"
                   type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}
            </alert>
            <form novalidate>
                <div class="form-group">
                    <label for="roomName">Name</label>
                    <input id="roomName" type="text" ng-model="room.name" class="form-control"/>
                </div>
                <div class="form-group">
                    <ul class="list-group">
                        <li class="list-group-item list-group-item-heading">
                            <strong>Shape</strong>
                        </li>
                        <li class="list-group-item">
                            <roomshape width="100" height="100" room="room"></roomshape>
                        </li>
                        <li class="list-group-item" ng-repeat="point in room.shape">
                            <label for="x{{$index + 1}}">x{{$index + 1}}</label>
                            <input ng-model="point.x" type="number" id="x{{$index + 1}}" min="0" max="100"/>

                            <label for="y{{$index + 1}}">y{{$index + 1}}</label>
                            <input ng-model="point.y" type="number" id="y{{$index + 1}}" min="0" max="100"/>

                            <button class="btn btn-link" ng-click="removePoint($index)">remove</button>
                        </li>
                    </ul>
                    <button class="btn btn-default" ng-click="addPoint()">Add Point</button>
                </div>
                <button class="btn btn-primary" ng-click="newRoom()">Create Room</button>
            </form>
        </div>
    </div>
</div>

<div ng-controller="RoomsController">
    <div class="panel panel-default">
        <div class="panel-heading">Rooms</div>
        <ul class="list-group">
            <li class="list-group-item" ng-repeat="room in rooms">
                {{room.id}} {{room.name}} <canvas width="100" height="100" roomshape></canvas>
            </li>
        </ul>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">New Room</div>

        <div class="panel-body">
            <alert ng-repeat="alert in alerts"
                   type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}
            </alert>
            <form novalidate>
                <div class="form-group">
                    <label for="roomName">Name</label>
                    <input id="roomName" type="text" ng-model="room.name" class="form-control"/>
                </div>
                <div class="form-group">
                    <ul class="list-group">
                        <li class="list-group-item" ng-repeat="point in room.shape">
                            <label for="x{{$index + 1}}">x{{$index + 1}}</label>
                            <input ng-model="point.x" type="number" id="x{{$index + 1}}" min="0" max="100"/>

                            <label for="y{{$index + 1}}">y{{$index + 1}}</label>
                            <input ng-model="point.y" type="number" id="y{{$index + 1}}" min="0" max="100"/>

                            <button class="btn btn-link" ng-click="removePoint($index)">remove</button>
                        </li>
                    </ul>

                    <button class="btn btn-default" ng-click="addPoint()">Add Point</button>
                </div>
                <div class="form-group">
                    <canvas width="100" height="100" roomshape></canvas>
                </div>
                <button class="btn btn-primary" ng-click="newRoom()">Create Room</button>
            </form>
        </div>
    </div>
</div>
